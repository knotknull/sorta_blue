Intro to Azure
------------------

## Creating Account
0. www.azure.com ==>> Start for free
1. login with live (hotmail) account
2. Form / phone

Once account setup login to:

https://portal.azure.com


##########################################################################
##  Azure fundamentals
##########################################################################
Data does not leave an Azure region unless specifically executed to.


## Resiliency and Availability (within a region)
##

36 Regions w/ additional 8 coming soon

 - Single VM

 - Availability Set:  2 or more fault domains (share common power source & network switch)
        - VMs in Availability distributed across fault domains
            - across physical servers, compute racks, storage and network switches

 - Availability Zone:  Different physical zones (datacenters) within
                       Azure region (geographic area)
                       Helps prevent datacenter loss
                       (Currently preview)

 - Paired Region :  Protect against regional outage.  Deploy app across multiple
                    regions. Azure Traffic Manager to distribute traffic across
                    regions. Regions within a Paired Region are located within
                    the same geography. (Exception is Brazil South Region)

    NOTE: Need to take into account latency across regions !!

## Subscriptions
##
Subscription:  An agreement with Microsoft to use one or more cloud platforms
               or services.  Pay for services on consumption model.

  - Organizations can have multiple Azure Subscriptions
        -env / geography based / function based

  - Subscriptions integrate with Azure Active Directory
      - multiple subscriptions can trust one directory
      - a subscription can trust only one directory

  - Azure resources will reside within a subscription

## Azure Resource Manager
##

Azure Resource Manager: Underlying service for deploying and managing resources
      in Azure.
Terminology:
  Resources:  Manageable items available for Azure.
     VMs, Storage Acct, Web Apps, DBs, virtual network

Resource Groups:  Where to deploy resources. Container of related resources.
  If deploying resources for an app together than resources should belong to
  the same resource group

Resource Providers: Service that supplies the resources available to
  Resource Manager.
    Product groups create a Resource Provider for the product.
      i.e. Microsoft dot compute , dot storage

Resource Manager Templates:  JSON file that defines one or more resources to
  deploy to a Resource Group.  Resource template for cloud services.
   - defines dependencies between resources
   - deploy same dev / test / prod
   - Infrastructure as Code (like Cloud Formation)


##########################################################################
##  Azure Compute Services
##########################################################################
  - Virtual Machines
  - App Service
  - Functions
  - Batch
  - Container Services
  - Container Instances
  - Service Fabric
  - Cloud Services


##  Azure Compute
##

Windows / Linux VM on demand

Distros: CentOS, CoreOS, Debian, Oracle Linux, RHEL, SUSE LES, openSUSE, Ubuntu

Can use a virtual hard disk (VHD) as well

 - 6 Types of VM (storage optimized, IO optimized, etc.)
 - 28 Families
 - set amount of vCPUs, Memory, Temporary Storage
      - can attach data disks
 - billed per minute
 - Reserved VM Instances gives significant discount
 - similar to EC2


##  Azure Service
##

- Platform as a Service
- Completely managed environment
- .Net, .Net Core, Java, Ruby, Node.JS, PHP or Python
- Web Apps / APIs / Mobile Backends / Containers
- Windows and Linux

App Service Plans:  from Free to Isolated Environments


##  Azure Functions
##

- Serverless Compute - run code on demand
- Function as a Service (like Lambda)
- Execute code in response to events or Triggers
- Only pay when your code is executed
- Languages:  C#, F#, Javascript, Node.js, Java

Part of App Service and can run within an App Service Plan

First 1 million executions / month free


##  Azure Batch
##

- Managed service for batch processing jobs
- Used for running large scale parallel and HPC workloads efficiently
- Scale processes to as many compute cores as required
- Supports both windows and linux compute nodes
- Batch is free, just pay for resources you are running


##  Azure Container Service (ACS) ==>> Azure Container Service for Kubernetes (AKS)
##

- Managed Kubernetes Container Orchestration
- Auto upgrades / patching
- Support for other orchestrators (but not managed)
  - DC/OS, Un-managed Kubernetes, Docker Swarm
- Only pay for agent nodes not masters


##  Azure Container Instances
##
- Containers as a service  (good for only one container)
- Fast and easy way to run a container in Azure
- Containers get a public IP address
- Can design container spec yourself (CPU / RAM)
- Supports both windows and linux containers
- Per-second billing


##  Azure Service Fabric
##

- Orchestrator / Platform for running microservices / containers (not Kubernetes)
- Used by a lot of Azure and MS services
  - Skype for Business, Cortana, CosmosDB, Dynamics 365
- Can run anywhere, other clouds, on premises. SDK is identical
- Supports Stateful and Stateless microservices
- Popular among .Net community but supports other languages and containers too
- Utilizes high density container architecture for scale and performance


##  Azure Cloud Services (Classic Cloud Services)
##

- Original PaaS offering from Azure
- Similar to App Service but you can remote into the VMs and install software
- Web Roles - Websites
- Worker Roles - Async processing
- Recommended to use App Services instead of Cloud Services


##########################################################################
##  Azure Networking
##########################################################################


##  Virtual Networks
##

- Isolated Network within Azure
- Hosts:  VMs, VM Scale sets, App Service Environments
- Composed of subnets
- User Defined Routes
- Security Groups @ virtual network and virtual machine levels
- Outbound internet access
- VNET Peering:  can peer within and across regions
- Service Endpoints:  Access services within VNET (private connection to service)
VNET ==>> VPC



##  Load Balancer
##

- Basic load balancer functionality for your VMs
- Operates at Layer 4
- Public or Internal
- HTTP or TCP load balancing / hash based load balancing
- Standard Load Balancer in preview (Feb 2018)
  - HA Ports (UDP and TCP)
  - AZ Aware (load balance across AZs)
==>> ELB


##  Application Gateway
##

- Layer 7 Load Balancing in Azure
- HTTP Based Round Robin
- SSL Offload
- Cookie Based Session Affinity
- Web Socket Support
- Integrated Web Application Firewall
- Internal / External Load Balancing



##  VPN Gateway
##

- Managed VPN in the cloud
- Site to Site (S2S) or Point to Site (P2S)
- Establish encrypted connections
  - Azure -> On Premises
  - Azure -> Azure (Multi-Region)
- One VPN Gateway per VNET    ***
  - Multiple connections per VPN Gateway  ***

- Policty Based (Static) or Route Based (Dynamic)
==>> AWS VPN Gateway



##  Azure DNS
##

- Domain Name Systems
- Host your DNS Domains
- Utilize the same credentials as your infrastructure
- Cannot purchase domain names
- Pay per zone per month, then per million queries
- Private domain in preview
==>> AWS Route53


##  Traffic Manager
##

- Global traffic router
- Point to internal / external end points
- Uses DNS to select best available endpoint
- 4 traffic routing methods
  - priority
  - weighted
  - performance
  - geographic
- Health checks can be customized
- Routing method and health determine where traffic goes
- Can be used for multi-region architectures
==>> AWS Route53


##  Content Delivery Network
##

- Improve performance by getting closer to users
- Typically used for static assets (images, etc)
- Dynamic Site Acceleration (DSA)
- Service provided by Akamai and Verizon
- Standard / Premium option available (Verizon only)
    - premium == token auth and url redirection

- Pay per GB outbound per month. Varies based on zone.
==>> AWS CloudFront

##  Express Route
##

- Private connection into Azure
- Up to 10Gbps
- Replaces VPNs
- Two connection options
  - Private link to an Exchange Provider Facility
  - Add an Express Route link to you MPLS Network
- Multiple subscriptions can be linked to a single circuit
- Hybrid / Disaster Recovery
==>> AWS DirectConnect


##########################################################################
##  Azure Storage
##########################################################################


##  Azure Storage
##
 - Collection of Storage services
 - Storage Account is the parent object
 - Transfer to / from a specific service within a storage account
 - 500 TB limit per Storage Account
 - Standard (HDD) or Premium (SSD) Accounts
    - Premium only for disks
 - Various Replication available:
    - Locally Redundant Storage (LRS)
    - Zone Redundant Storage (ZRS)
    - Geo Redundant (Multi-Region) Storage (GRS)
    - Read Access Geo Redundant (Multi-Region) Storage (RA-GRS)
        - Read data from both regions replicated

 - Various Tiers:
    - Archive (BLOB only)
    - Cool (read infrequently)
    - Hot  (read regularly)

##  BLOB Storage
##
  - Internet Accessible Object Store
  - Store large amounts of unstructured data
  - HTTP or HTTPS
  - Public or Private Options
  - Storage Account -> Container(s) -> BLOB
    BLOB Types:
      - Block (4.75TB max) text or binary files
      - Append (195GB max) log data
      - Page (8TB max) frequent read/write
          - Azure VMs use this for OS / Data Disks

  - Archive Tier (infrequent data) possible hours to retrieve
==>> Amazon S3

##  Queue Storage
##
  - Early storage service
  - Durable managed queuing service
  - Useful for decoupling apps
  - Messages up to 64KB in size
  - Can utilize the capacity of the storage account
  - Message lifetime 7 days
  - Original queuing services offered by Azure
  - NOT the same as Azure Service Bus Queues
==>> Amazon SQS

##  File Storage
##
  - Fully managed SMB / CIFS File Share
  - Mounted concurrently in cloud or on premises Windows, Linux, Mac OS
  - Alternative to on premises file servers / NAS
  - Lift and Shift Apps that require a shared file system ***
  - 5TB Maximum File Share Size
==>> Amazon EFS

##  Table Storage
##
  - Storing unstructured NoSQL data
  - Key / Value Store
  - As many entities and tables as you like
    - Entity can be up to 1 MB in size (think row or document)
  - Should use Azure Cosmos DB Table API instead
==>> Amazon DynamoDB??


##  Disk Storage
##
  - Managed or Unmanaged Disks
  - Managed Disks take care of storage account and disks for you
      - Pay for what you provisioned
  - Unmanaged Disks
      - Pay for what you use
  - Designed for 99.999% availability - three replicas
  - Premium  (SSD): Disk IOPS mapped to disk and not VM size
  - Standard (HDD): Disk IOPS provisioned by VM size
  - Sizes from 32GB to 4TB
  - Can attach multiple disks to VM
  - NOTE: Not all VM families support Premium disks
==>> Amazon EBS
































[.]
